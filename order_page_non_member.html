<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width= , initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/order_page.css">
    <link rel="stylesheet" href="./css/swiper.css">
    <link rel="stylesheet" href="css/swiper-bundle.min.css" />
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script src="./js/common.js"></script>
</head>

<body>
    <div id="oreder_page">
        <div>
            <header id="header_type2">
                <div>
                    <p>주문서</p>
                    <div class="header_ico_wrap">
                        <a href="./item_detail.html" class="ico_left_arrow"></a>
                    </div>
                </div>
            </header>
            <section id="order_item_wrap">
                <h3>주문상품<span class="count">2</span></h3>
                <div class="order_item_container">
                    <div class="brand_name">CHATELAINE</div>
                    <div class="order_item_container_b">
                        <div class="order_item_img">
                            <img src="./img/item_2.png" alt="">
                        </div>
                        <div class="order_item_container_bl">
                            <p class="item_name">라운드넥 아가일 니트</p>
                            <p class="item_orderNumber">CLAWSW102</p>
                            <div class="item_option">
                                <p class="item_color">네이비</p>
                                <p class="item_size">55</p>
                                <p class="item_count">1개</p>
                            </div>
                            <p class="item_price"><span class="item_priceNum">1000</span>원</p>
                        </div>
                    </div>
                </div>
                <div class="order_item_container">
                    <div class="brand_name">CHATELAINE</div>
                    <div class="order_item_container_b">
                        <div class="order_item_img">
                            <img src="./img/item_2.png" alt="">
                        </div>
                        <div class="order_item_container_bl">
                            <p class="item_name">라운드넥 아가일 니트</p>
                            <p class="item_orderNumber">CLAWSW102</p>
                            <div class="item_option">
                                <p class="item_color">네이비</p>
                                <p class="item_size">55</p>
                                <p class="item_count">1개</p>
                            </div>
                            <p class="item_price"><span class="item_priceNum">2000</span>원</p>
                        </div>
                    </div>
                </div>
            </section>
            <section id="order_user_wrap">
                <div class="order_user_t">
                    <h3>주문자</h3>
                </div>
                <div class="order_user_b non_member">
                    <div class="user_name">
                        <span>이름</span>
                        <input type="text" placeholder="입력해주세요.">
                    </div>
                    <div class="user_e-mail">
                        <span>이메일</span>
                        <div class="e_mail_input_wrap">
                            <input type="text">
                            <span>@</span>
                            <input type="text" class="domain_input">
                        </div>
                        <div class="selectBoxType">
                            <button class="label">직접입력</button>
                            <ul class="optionItemWrap">
                                <li class="optionItem">naver.com</li>
                                <li class="optionItem">daum.net</li>
                                <li class="optionItem">kakao.com</li>
                                <li class="optionItem">gmail.com</li>
                                <li class="optionItem direct">직접 입력</li>
                            </ul>
                        </div>
                    </div>
                    <div class="user_number">
                        <span>휴대전화</span>
                        <div class="number_input_wrap">
                            <span>010</span>
                            <div class="number_input">
                                <input type="number">
                                <button class="phone_check_btn">인증</button>
                            </div>
                        </div>
                        <div class="check_input">
                            <input type="number">
                        </div>
                        <button class="check_ok_btn">인증확인</button><!-- 인증확인완료되면 addClass="on" -->
                    </div>
                </div>
            </section>
            <section id="shippingInfo">
                <h3>배송정보</h3>
                <button class="spotInput">
                    <p>배송지 입력</p>
                </button>
                <div class="spotInputAfter" style="display: none;"><!-- 배송지 입력 후에 나타나는 화면 display:none 처리 해놨습니다 -->
                    <button class="spotChange">
                        <p>배송지 변경</p>
                    </button>
                    <div class="shippingInfo_container">
                        <div class="reciveUser">
                            <div class="reciveUser_r"><span class="reciveUserName">홍길동</span>/<span
                                    class="reciveUserNum">010-8646-2460</span></div>
                        </div>
                        <div class="reciveSpot">
                            <div class="reciveSpot_r">[<span class="reciveSpotNum">14046</span>]<span
                                    class="reciveSpotAddress">서울특별시 강남구 역삼동 역삼로 156 태광빌딩 5층</span></div>
                        </div>
                        <div class="selectBoxType">
                            <button class="label">배송시 요청사항을 선택해 주세요</button>
                            <ul class="optionItemWrap">
                                <li class="optionItem">부재시 문앞에 놓아주세요.</li>
                                <li class="optionItem">부재시 경비실에 맡겨 주세요.</li>
                                <li class="optionItem">부재시 전화 또는 문자 주세요.</li>
                                <li class="optionItem">택배함에 넣어 주세요.</li>
                                <li class="optionItem">파손위험이 있으니 배송시 주의해주세요.</li>
                                <li class="optionItem">배송 전에 연락주세요.</li>
                                <li class="optionItem">직접 입력</li>
                            </ul>
                            <input type="text" class="direct" placeholder="내용을 입력해주세요. (50자 내외)">
                        </div>
                    </div>
                </div>
            </section>
            <section id="discount_benefit">
                <h3>할인혜택</h3>
                <div class="coupon">
                    <div class="noneCoupon_wrap">
                        <h4>쿠폰</h4>
                        <p class="noCoupon">회원만 사용 가능합니다.</p>
                    </div><!-- 쿠폰 없을 때 화면 -->
                </div>
                <div class="saving">
                    <h4>적립금</h4>
                    <p>회원만 사용 가능합니다.</p>
                </div>
            </section>
            <section class="payMethodWrap">
                <h3>결제 수단</h3>
                <div class="payMethod">
                    <div class="creditCheckCard on">
                        <label>
                            <input type="radio" name="method" checked="">
                            <span>신용/체크카드</span>
                        </label>
                        <div class="payContent">
                            <div class="selectBox_type">
                                <button class="label">카드사를 선택해주세요</button>
                                <ul class="optionItem_wrap" id="crops1">
                                    <li class="optionItem">국민카드</li>
                                    <li class="optionItem">신협카드</li>
                                    <li class="optionItem">농협카드</li>
                                    <li class="optionItem">우리카드</li>
                                    <li class="optionItem">기타</li>
                                </ul>
                            </div>
                            <div class="greyBox">
                                <ul>
                                    <li class="benefit">
                                        <div class="benefit_l">혜택</div>
                                        <div class="benefit_r">[현대카드] M포인트 5% 사용</div>
                                    </li>
                                    <li class="benefit">
                                        <div class="benefit_l">혜택</div>
                                        <div class="benefit_r">[현대카드] M포인트 5% 사용</div>
                                    </li>
                                    <li class="benefit">
                                        <div class="benefit_l">혜택</div>
                                        <div class="benefit_r">[현대카드] M포인트 5% 사용</div>
                                    </li>
                                    <li class="benefit">
                                        <div class="benefit_l">혜택</div>
                                        <div class="benefit_r">[현대카드] M포인트 5% 사용</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="simple">
                        <label>
                            <input type="radio" name="method">
                            <span>간편결제</span>
                        </label>
                        <div class="payContent">
                            <ul>
                                <li><img src="./img/naverPay.png" alt=""></li>
                                <li><img src="./img/kakaoPay.png" alt=""></li>
                                <li><img src="./img/samsungPay.png" alt=""></li>
                            </ul>
                        </div>
                    </div>
                    <div class="cash">
                        <label>
                            <input type="radio" name="method">
                            <span>현금결제</span>
                        </label>
                        <div class="payContent">
                            <p>환불계좌 정보</p>
                            <div class="bankName">
                                <span>은행명</span>
                                <div class="selectBox_type">
                                    <button class="label">선택</button>
                                    <ul class="optionItem_wrap" id="crops1">
                                        <li class="optionItem">국민은행</li>
                                        <li class="optionItem">신협은행</li>
                                        <li class="optionItem">농협은행</li>
                                        <li class="optionItem">우리은행</li>
                                        <li class="optionItem">기타</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="accountInput">
                                <span>계좌번호</span>
                                <input type="number" placeholder="-없이 입력">
                            </div>
                            <div class="accountUser">
                                <span>예금주</span>
                                <div class="accountUserBox"></div>
                            </div>
                            <button class="accountCheckBtn">계좌 인증</button>
                        </div>
                    </div>
                </div>
            </section>
            <section id="finalPrice_wrap">
                <h3>최종 결제 금액</h3>
                <div class="priceHistory">
                    <div class="allItemPirce">
                        <p>총 상품금액</p>
                        <span><span class="num">250000</span>원</span>
                    </div>
                    <div class="shippingPrice">
                        <p>배송비</p>
                        <span><span class="num">3000</span>원</span>
                    </div>
                    <div class="discountCouponUse">
                        <p>할인쿠폰 사용</p>
                        <span><span class="num">8000</span>원</span>
                    </div>
                    <div class="savingUse">
                        <p>적립금 사용</p>
                        <span><span class="num">0</span>원</span>
                    </div>
                </div>
                <div class="finalPrice">
                    <div class="finalPrice_t">
                        <p>총 결제 예정금액</p>
                        <span><span class="finalPriceNum">127000</span>원</span>
                    </div>
                    <div class="finalPrice_b">
                        <p>총 적립예정 금액<span class="savingNum">2700</span>원</p>
                    </div>
                </div>
            </section>
            <div class="orderAgreeCheckWrap">
                <div class="allAgreeBtn">
                    <label>
                        <input type="checkbox" id="check_btn">
                        <span>주문동의</span>
                    </label>
                    <p>본인은 구매조건, 주문 내용 확인 및 결제에 동의합니다.</p>
                </div>
                <div class="checkBtnList">
                    <ul>
                        <li>
                            <label>
                                <input type="checkbox" id="check_btn" class="normal">
                                <span>개인정보 수집 및 이용 동의</span>
                            </label>
                            <a href="">보기</a>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" id="check_btn" class="normal">
                                <span>개인정보 제 3자 제공 동의</span>
                            </label>
                            <a href="">보기</a>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" id="check_btn" class="normal">
                                <span>전자결제대행 이용 동의</span>
                            </label>
                            <a href="">보기</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div id="bottom">
                <div class="finalBuyBtn">
                    <a href="./order_complete.html">122,000원 결제</a>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    var savingNumText = $('.savingUseNum').text()
    $('.allUse').click(function () {
        $('.saving_t>input').val($('.saving_t>input').val() + savingNumText);
        $('.savingUse>span>.num').text("-" + savingNumText)
        $('.saving_b>p>span').css("color", "#222")
    })//모두 사용 버튼 클릭시 적용

    if (savingNumText === "0") {
        $('.allUse').removeClass('on')
    } else {
        $('.allUse').addClass('on')
    }//모두 사용 버튼 적립금에 따라 color값 변동

    $('.selectBoxType>button').click(function () {
        $(this).toggleClass('on')
        $(this).siblings('.optionItemWrap').toggleClass('on')
    })//셀렉트 박스

    $('.optionItem').click(function () {
        var textChange = $(this).text();
        var targetLabel = $(this).closest('.selectBoxType').children('.label');
        var targetDiscount = $(this).closest('.selectBoxType').siblings('.discountPrice')
        targetLabel.text(textChange);

        $(this).parent('.optionItemWrap').toggleClass('on')
        $(targetLabel).removeClass('on')
        $(targetLabel).css("color", "#222")
        $('.selectBoxType>.optionItemWrap>.optionItem').css("background", "none")
        $(this).css("background", "#f5f5f5")
    });//셀렉트 박스

    $('.optionItem:last-child').click(function () {
        $('.direct').css("display", "block")
    });//셀렉트 박스

    $('.user_e-mail .optionItem').click(function(){
        var textDomain = $(this).text();
        $('.domain_input').attr("value" , textDomain);
        $('.domain_input').attr("readonly",true)
        $('.user_e-mail .selectBoxType > .label').css("color","#bdbdbd")
    })//이메일 셀렉트박스

    $('.user_e-mail .direct').click(function(){
        $('.domain_input').attr("value" , "");
        $('.domain_input').attr("readonly",false)
    })//이메일 셀렉트박스


    var swiper = new Swiper(".mySwiper", {
      pagination: {
        el: ".swiper-pagination",
        type: "fraction",
      }
    });//개별페이지 스와이퍼슬라이드기능

    $('.payMethod').children('div').click(function(){
        $('.payMethod>div').removeClass('on')
        $(this).addClass('on')
    })//결제수단 기능

    $('.selectBox_type>.label').click(function () {
        $('.selectBox_type').addClass('active')
        $(this).toggleClass('on');
        $('.selectBox_type>.optionItem_wrap').toggleClass('on')
        $('.selectBox_type>.optionItem_wrap>.optionItem').click(function () {
            var text_change = $(this).text()
            $(this).parents('.optionItem_wrap').siblings('.label').text(text_change).css("color", "#222")
            $('.selectBox_type>.optionItem_wrap>.optionItem').css("background", "none")
            $(this).css("background", "#f5f5f5")
            $('.selectBox_type>.optionItem_wrap').removeClass('on')
            $('.selectBox_type>.label').removeClass('on')
            $('.selectBox_type_detail').css("display", "block")
        })
    })//셀렉트 박스

    $('.phone_check_btn').click(function(){
        $(this).text("재전송")
        $('.check_ok_btn').css("display","block")
        $('.check_input').css("display","block")
    })

    $('.check_ok_btn').click(function(){
        $(this).addClass("on")
        if($(this).hasClass("on")){
            $('.phone_check_btn').remove();
            $('.number_input_wrap > span').css("color","#969696");
            $('.number_input > input').css("color","#969696");
            $('.number_input > input').attr("readonly",true);
            $('.check_input > input').css("color","#969696");
            $('.check_input > input').attr("readonly",true);
        }
    })

    $('.user_name > input').keyup(function(){
        var userName = $('.user_name > input').val()
        $('.accountUserBox').text(userName)
    });

    $('.bankName .optionItem').click(function(){
        if ($('.accountInput input').val() !== '' && $('.accountUserBox').text() !== '' && $('.bankName .selectBox_type').hasClass('active')) {
            $('.accountCheckBtn').addClass('on')
        } else {
            $('.accountCheckBtn').removeClass('on')
        }
    })

    $('.accountInput input').on('input', function () {
        if ($('.accountInput input').val() !== '' && $('.accountUserBox').text() !== '' && $('.bankName .selectBox_type').hasClass('active')) {
            $('.accountCheckBtn').addClass('on');
        } else {
            $('.accountCheckBtn').removeClass('on');
        }
    });


    $('.accountCheckBtn').click(function(){
        if($(this).hasClass('on')){
            $(this).removeClass('on');
            $(this).addClass('finish');
            $(this).text("인증 완료");
            $(".accountInput > input").attr("readonly","true");
            $('.bankName > .selectBox_type > .label').off("click");
            $(this).attr("disabled" ,true);
        }else if($(this).hasClass('finish')){
            console.log("finish")
        }
    })

    $('.orderAgreeCheckWrap #check_btn').on("input",function(){
        if($('.allAgreeBtn #check_btn').is(":checked")){
            $('.finalBuyBtn').addClass('on');
        }else{
            $('.finalBuyBtn').removeClass('on');
        }
     })

</script>

</html>